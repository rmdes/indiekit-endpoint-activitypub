{% extends "document.njk" %}

{% block content %}
  {# Infinite scroll component — must load before Alpine to register via alpine:init #}
  <script defer src="/assets/@rmdes-indiekit-endpoint-activitypub/reader-infinite-scroll.js"></script>
  {# Autocomplete components for explore + popular accounts #}
  <script defer src="/assets/@rmdes-indiekit-endpoint-activitypub/reader-autocomplete.js"></script>

  {# Alpine.js for client-side reactivity (CW toggles, interaction buttons, infinite scroll) #}
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.9/dist/cdn.min.js"></script>

  {# Reader stylesheet — loaded in body is fine for modern browsers #}
  <link rel="stylesheet" href="/assets/@rmdes-indiekit-endpoint-activitypub/reader.css">
  <link rel="stylesheet" href="/assets/@rmdes-indiekit-endpoint-activitypub/reader-links.css">

  {# AP link interception for internal navigation #}
  <script defer src="/assets/@rmdes-indiekit-endpoint-activitypub/reader-links.js"></script>

  {% block readercontent %}
  {% endblock %}
{% endblock %}
